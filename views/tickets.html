<!--inlclude header-->
<div ng-include=" '/views/includes/header.html' "></div>

<div class="container">
    <div id="header">
        <a ui-sref="ticketNew" class="btn btn-info btn-lg" >新建工单</a>
    </div>
    <hr/>
    <div id="publicItem">
        <ul  class="nav nav-tabs">
            <li role="presentation" class="active"><a   data-toggle="tab" ng-click="stateFilter=''">所有</a></li>
            <li role="presentation" ><a   data-toggle="tab" ng-click="stateFilter.state='未回复'">未回复</a></li>
            <li role="presentation"><a   data-toggle="tab" ng-click="stateFilter.state='已回复'">已回复</a></li>
        </ul>
        <div id="myTabContent" class="tab-content">
            <div role="tab-panel" class="tab-pane fade active in" id="all">
                <table class="table table-striped table-hover">
                    <thead>
                    <th class="col-md-1">ID</th>
                    <th class="col-md-6">标题</th>
                    <th class="col-md-1">状态</th>
                    <th class="col-md-1">类型</th>
                    <th class="col-md-3">创建时间</th>
                    </thead>
                    <tbody>
                    <tr ng-repeat="ticket in tickets | filter:stateFilter">
                        <td>{{ ticket.objectId }}</td>
                        <td><a ui-sref="ticketView({objectId:ticket.objectId})">{{ ticket.title }}</a></td>
                        <td>{{ ticket.state }}</td>
                        <td>{{ ticket.type }}</td>
                        <td>{{ ticket.createdAt }}</td>
                    </tr>
                    <!--<tr>-->
                        <!--<td>#1568</td>-->
                        <!--<td>这个工单系统是否支持审批功能</td>-->
                        <!--<td>已完成</td>-->
                        <!--<td>Bug提交</td>-->
                        <!--<td>2015-3-20 15:04:23</td>-->
                    <!--</tr>-->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
